!function(){"use strict";function e(e,a){function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},a=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e(a,t),a.prototype.preload=function(){},a.prototype.create=function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,console.log(this.scale.width),this.scale.scaleMode=Phaser.ScaleManager.NO_SCALE,console.log(this.game),this.game.state.start("Preloader",!0,!1)},a}(Phaser.State),s=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e(a,t),a.prototype.preload=function(){this.load.tilemap("debug","assets/debug-map.json",null,Phaser.Tilemap.TILED_JSON),this.load.image("debug-player","assets/debug-player.png"),this.load.image("debug-tileset","assets/Tiles.png"),this.load.spritesheet("playerSpritesheet","assets/player.png",20,32,12),this.load.image("enemySight","assets/enemySight.png")},a.prototype.create=function(){this.game.renderer.renderSession.roundPixels=!0,this.game.state.start("Debug")},a}(Phaser.State),i=function(t){function a(e,a,s){var i=t.call(this,e,a,s,"playerSpritesheet",0)||this;return i.anchor.setTo(.5,0),i.animations.add("upAnim",[3,4,5],5,!0),i.animations.add("upIdle",[3],5,!0),i.animations.add("downAnim",[0,1,2],5,!0),i.animations.add("downIdle",[0],5,!0),i.animations.add("leftAnim",[9,10,11],5,!0),i.animations.add("leftIdle",[9],5,!0),i.animations.add("rightAnim",[6,7,8],5,!0),i.animations.add("rightIdle",[6],5,!0),e.physics.enable(i),i.body.collideWorldBounds=!0,e.camera.follow(i),e.add.existing(i),i.lastKey=2,console.log("running"),i}return e(a,t),a.prototype.update=function(){this.game.physics.arcade.collide(this,this.game.state.getCurrentState().walls),this.game.physics.arcade.collide(this,this.game.state.getCurrentState().enemy1);var e=this.body.velocity;e.set(0),this.game.input.keyboard.isDown(Phaser.Keyboard.UP)?(e.y-=a.speed,this.play("upAnim"),this.lastKey=1):this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN)?(e.y+=a.speed,this.play("downAnim"),this.lastKey=2):this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT)?(e.x-=a.speed,this.play("leftAnim"),this.lastKey=3):this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)?(e.x+=a.speed,this.play("rightAnim"),this.lastKey=4):this.animations.stop()},a.speed=192,a}(Phaser.Sprite),n=function(t){function a(e,a,s){var i=t.call(this,e,a,s,"debug-player",0)||this;return i.anchor.setTo(.5,0),e.physics.enable(i),i.body.collideWorldBounds=!0,i.body.immovable=!0,e.add.existing(i),i}return e(a,t),a.prototype.update=function(){},a.speed=192,a}(Phaser.Sprite),o=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e(a,t),a.prototype.preload=function(){},a.prototype.create=function(){this.game.physics.startSystem(Phaser.Physics.ARCADE);var e=this.game.add.tilemap("debug");e.addTilesetImage("placeHolder","debug-tileset"),this.background=e.createLayer("Background"),this.walls=e.createLayer("Walls"),this.walls.resizeWorld(),e.setCollision(1,!0,"Walls"),this.game.physics.enable(this.walls),this.player=new i(this.game,64,96),this.enemy1=new n(this.game,208,512),this.enemy1Sight=this.game.add.sprite(32,528,"enemySight"),this.enemy1Sight.renderable=!1},a.prototype.update=function(){this.checkOverlap(this.player,this.enemy1Sight)&&console.log("Collision")},a.prototype.checkOverlap=function(e,t){var a=e.getBounds(),s=t.getBounds();return Phaser.Rectangle.intersects(a,s)},a}(Phaser.State),r=function(t){function i(){var e=t.call(this,800,600,Phaser.AUTO,"")||this;return e.antialias=!1,e.state.add("Preloader",s),e.state.add("Debug",o),e.state.add("Boot",a,!0),e.state.start("Boot"),e}return e(i,t),i}(Phaser.Game);window.game=new r}();
//# sourceMappingURL=rollup-bundle.js.map
